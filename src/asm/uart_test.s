NOP
NOP
NOP
NOP
NOP
NOP
NOP
NOP
NOP
NOP
NOP
NOP
NOP
NOP
;LI R1 0xBF
;SLL R1 R1 0x0
;LW R1 R0 0x0 ;接收并存在R0
;SW R1 R0 0x0 ;发送R0
;SW R2 R0 0x0 ;存R0到0x15
NOP
NOP
NOP

LI R0 0x0000
;接收
MFPC R7
ADDIU R7 0x0003	
NOP
B TESTR	
NOP	
LI R6 0x00BF 
SLL R6 R6 0x0000 ;R6=0xBF00	
LW R6 R1 0x0000	
SW R0 R1 0x0001
;SW R6 R1 0x0000
NOP

;接收
MFPC R7
ADDIU R7 0x0003	
NOP
B TESTR	
NOP	
LI R6 0x00BF 
SLL R6 R6 0x0000 ;R6=0xBF00	
LW R6 R2 0x0000	
SW R0 R2 0x0002
;SW R6 R2 0x0000
NOP


;接收
MFPC R7
ADDIU R7 0x0003	
NOP
B TESTR	
NOP	
LI R6 0x00BF 
SLL R6 R6 0x0000 ;R6=0xBF00	
LW R6 R3 0x0000	
SW R0 R3 0x0003
;SW R6 R3 0x0000
NOP

;接收
MFPC R7
ADDIU R7 0x0003	
NOP
B TESTR	
NOP	
LI R6 0x00BF 
SLL R6 R6 0x0000 ;R6=0xBF00	
LW R6 R4 0x0000	
SW R0 R4 0x0004
;SW R6 R4 0x0000
NOP

;接收
MFPC R7
ADDIU R7 0x0003	
NOP
B TESTR	
NOP	
LI R6 0x00BF 
SLL R6 R6 0x0000 ;R6=0xBF00	
LW R6 R5 0x0000	
SW R0 R5 0x0005
;SW R6 R5 0x0000
NOP

;接收
MFPC R7
ADDIU R7 0x0003	
NOP
B TESTR	
NOP	
LI R6 0x00BF 
SLL R6 R6 0x0000 ;R6=0xBF00	
LW R6 R7 0x0007	
SW R0 R7 0x0007
SW R6 R7 0x0000
NOP

;测试8251是否能读
TESTR:	
	NOP	
	LI R6 0x00BF 
	SLL R6 R6 0x0000 
	ADDIU R6 0x0001 
	LW R6 R0 0x0000 
	LI R6 0x0002
	AND R0 R6 
	BEQZ R0 TESTR   ;BF01&2=0  则等待	
	NOP	
	JR R7
	NOP 		
NOP
NOP
NOP
NOP
NOP
NOP
NOP
NOP